# Configuração do PostgreSQL (porta alta para evitar conflitos)
DATABASE_URL=postgresql://usuario:senha@localhost:54321/zapflow
# ou configure individualmente:
DB_HOST=localhost
DB_PORT=54321
DB_NAME=zapflow
DB_USER=postgres
DB_PASSWORD=sua_senha

# JWT Secret para autenticação
JWT_SECRET=seu_jwt_secret_super_seguro_aqui_mude_em_producao

# Porta do servidor
PORT=3001

# CORS - URLs permitidas (separadas por vírgula)
# Dica: o backend tenta detectar o IP automaticamente (SERVER_IP é opcional).
# - Para DEV local: use localhost/127.0.0.1
# - Para rede/VM: você pode setar CORS_ORIGIN=* (ou incluir seu IP), se necessário.
# Exemplos:
#   SERVER_IP=SEU_IP_SERVIDOR
#   CORS_ORIGIN=http://SEU_IP_SERVIDOR:5173,http://localhost:5173
CORS_ORIGIN=http://localhost:5173,http://127.0.0.1:5173

# ============================================================================
# RATE LIMITING - Prevenção de Brute Force e DDoS
# ============================================================================

# Rate Limiting Geral (todas as rotas)
# Janela de tempo em minutos (padrão: 15 minutos)
RATE_LIMIT_WINDOW_MS=15
# Máximo de requisições por janela (padrão: 100)
RATE_LIMIT_MAX=100

# Rate Limiting para Login (prevenção de brute force)
# Janela de tempo em minutos (padrão: 15 minutos)
LOGIN_RATE_LIMIT_WINDOW_MS=15
# Máximo de tentativas de login por janela (padrão: 5)
# IMPORTANTE: Valores muito baixos podem bloquear usuários legítimos
LOGIN_RATE_LIMIT_MAX=5

# Rate Limiting para Rotas de Dados (API autenticada)
# Janela de tempo em minutos (padrão: 1 minuto)
DATA_RATE_LIMIT_WINDOW_MS=1
# Máximo de requisições por janela (padrão: 60)
DATA_RATE_LIMIT_MAX=60

